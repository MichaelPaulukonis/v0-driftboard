# Product Requirements Document: Shared Boards Feature

## 1. Problem Statement & Vision

- **Problem Statement:** The application currently supports only a single user, preventing collaboration. Small, agile teams or partners lack a simple, shared workspace and must rely on more complex or costly tools. There is a need to introduce foundational multi-user capabilities to manage projects jointly.
- **Vision:** To evolve Driftboard from a personal kanban tool into a lightweight, collaborative platform. The focus is on enabling small groups (2-3 users) to seamlessly share and manage project boards in real-time, prioritizing ease of use over enterprise-level features.

## 2. Target Users & Use Cases

- **Primary Target Users:**
  - **The Board Owner:** The project creator who initiates sharing.
  - **The Collaborator (Editor):** A trusted partner invited to contribute. The dynamic is informal, typical of 2-3 individuals working on a side project.
- **Key User Journeys:**
  - **Inviting a Collaborator (Owner's Journey):** From an active board, the owner selects "Share," enters a user's email/username, and confirms. The specified user is immediately added as an "Editor."
  - **Working on a Shared Board (Editor's Journey):** The editor sees the new board in their main list, opens it, and can immediately perform all actions (add/edit/move cards and lists) except for deleting the board or inviting other users.
- **Future Use Cases:** "View only" or "public" access modes are noted as valuable future additions.

## 3. Core Features & Requirements

- **Must-Have Features (MVP):**
  - **Backend:** Implement a schema with `BoardMembership` and `Role` models to create a many-to-many relationship between users and boards. API endpoints must be updated to handle these new relationships and enforce that only 'OWNER' roles can delete a board or invite new users.
  - **Frontend (Invite):** A simple UI element (e.g., a button and input field) allowing a board owner to invite another user by their email/username.
  - **Activity Log:** The existing `Activity` model should be populated for key events (card creation, moves, comments). A basic view of these activities should be displayed, likely within a card's details.

- **Nice-to-Have Features (Day 2):**
  - **Frontend (Manage):** A UI for board owners to see a list of current members and have an option to remove them.
  - **Real-time Sync:** Implement a push-based notification system so that changes made by one user appear instantly for all other collaborators.
  - **Permissions:** A "view-only" role.
  - **Notifications:** `@-mentions` in comments to notify other users.
  - **UI Polish:** A visual indicator on a board to show that it's shared and with whom.

## 4. Success Metrics & Goals

- **Success Criteria:**
  1.  **Functional Implementation:** The shared boards feature is fully implemented and operational per the MVP requirements, allowing board owners to invite editors who can then actively contribute to shared boards.
  2.  **Collaborative Workflow Enablement:** The feature successfully facilitates the collaborative workflow of the two core users for managing shared notes and tasks within the application.
- **Primary Goal of Collaboration:**
  - To immediately enable a seamless co-creation and task management environment for the project's primary users.
  - To evaluate the concept and user experience of a shared kanban system as a basis for guiding future product development.

## 5. Technical Considerations

- **Platform & Deployment:** The application is deployed on Vercel and Docker, using Firebase for data and authentication. Future work may favor a more distinct Service-Oriented Architecture (SOA).
- **Real-Time Synchronization:** For the MVP, a synchronous "refresh to see changes" model is sufficient. Real-time client updates are a "Day 2" feature.
- **Security:** The primary security measure for the MVP is role-based access control on the backend API. A comprehensive security review of the sharing feature is deferred as a future task.
- **Scalability:** The initial implementation targets low-concurrency collaboration between 2-3 users. Advanced concurrency management is deferred.
